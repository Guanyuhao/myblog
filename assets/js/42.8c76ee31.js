(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{356:function(t,e,a){"use strict";a.r(e);var n=a(17),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"docker",tabindex:"-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[t._v("#")]),t._v(" Docker")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/image/build.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker —— 从入门到实践"),e("OutboundLink")],1)])]),t._v(" "),e("h1",{attrs:{id:"docker-基本操作",tabindex:"-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-基本操作"}},[t._v("#")]),t._v(" Docker 基本操作")]),t._v(" "),e("p",[t._v("开发常用：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("images")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("查看镜像列表")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rmi")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("删除镜像")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("save")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("将指定镜像保存成 tar 归档文件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("load")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("从存档或者 STDIN 加载镜像")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("build")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("从一个 DockerFile 构建镜像")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("commit")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("从容器创建一个镜像")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("create")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("创建一个容器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("run")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("创建一个新的容器并运行一个命令")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rename")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("重命名容器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("start")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("启动容器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("stop")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("停止容器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("restart")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("重启容器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rm")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("删除容器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("logs")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("获取一个容器的日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("exec")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("在正在运行的容器中运行命令")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("cp")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("从容器和主机文件系统之间拷贝文件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("ps")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("查看容器列表")])])])]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# eg")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" pull nginx\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-itd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5210")]),t._v(":80 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" D:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("docker_web:/home/work "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" llpweb nginx\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" llpweb /bin/bash\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("打开宿主机端口 5210")]),t._v(" "),e("h1",{attrs:{id:"docker-容器网络",tabindex:"-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-容器网络"}},[t._v("#")]),t._v(" Docker 容器网络")]),t._v(" "),e("h2",{attrs:{id:"默认网络",tabindex:"-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#默认网络"}},[t._v("#")]),t._v(" 默认网络")]),t._v(" "),e("blockquote",[e("p",[t._v("安装 Docker 时，它会自动创建 3 个网络。可以使用 docker network ls 命令列出这些网络")])]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" network "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("NETWORK ID")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("NAME")]),t._v(" "),e("th",[t._v("DRIVER")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("7fca4eb8c647")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("bridge")]),t._v(" "),e("td",[t._v("bridge")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("9f904ee27bf5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("none")]),t._v(" "),e("td",[t._v("null")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("cf03ee007fb4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("host")]),t._v(" "),e("td",[t._v("host")])])])]),t._v(" "),e("ul",[e("li",[t._v("bridge 网络表示所有 Docker 安装中都存在的 docker0 网络。除非使用 "),e("code",[t._v("docker run --net=<NETWORK>")]),t._v("选项另行指定，否则 Docker 守护进程默认情况下会将容器连接到此网络。在主机上使用 ifconfig 命令，可以看到此网桥是主机的网络堆栈的一部分。")]),t._v(" "),e("li",[t._v("none 网络在一个特定于容器的网络堆栈上添加了一个容器。该容器缺少网络接口。")]),t._v(" "),e("li",[t._v("host 网络在主机网络堆栈上添加一个容器。您可以发现，容器中的网络配置与主机相同")])]),t._v(" "),e("h3",{attrs:{id:"操作",tabindex:"-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[t._v("#")]),t._v(" 操作")]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建网路")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" network create "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" bridge test-net\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 连接一个容器到一个网络")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" network connetc test-net container1\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run -itd --network=test-net images1")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用–link选项来指定一个首选别名来连接到另一个容")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" network connect "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--link")]),t._v(" container1:c1 multi-host-network container2\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 验证这个容器是否已连接到网络")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" network inspect test-net\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#从网络删除容器")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" network disconnect\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])])])}),[],!1,null,null,null);e.default=s.exports}}]);